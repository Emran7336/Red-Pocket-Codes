<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binance Red Pocket Codes</title>
    
    <script type='text/javascript' src='//machinemerrimentresent.com/52/e6/20/52e620919bc3093b95056a57a7e8cbde.js'></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #f0b90b; --secondary-color: #1e2026; --accent-color: #2b3139; --text-color: #eaecef; --card-bg: #2b3139; --shadow: 0 4px 20px rgba(0,0,0,0.3); --muted-text: rgba(234, 236, 239, 0.6);
        }
        .disclaimer-box {
            background-color: rgba(0, 0, 0, 0.2); border-top: 1px solid rgba(240, 185, 11, 0.2); padding: 20px 0; margin-top: 30px;
            text-align: justify; font-size: 0.8rem; color: var(--muted-text);
        }
        [data-theme="light"] {
            --primary-color: #f0b90b; --secondary-color: #ffffff; --accent-color: #f8f9fa; --text-color: #1e2026; --card-bg: #ffffff; --shadow: 0 4px 20px rgba(0,0,0,0.1); --muted-text: #6c757d;
        }
        body {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--accent-color) 100%); color: var(--text-color); min-height: 100vh; transition: background 0.3s ease, color 0.3s ease; padding-top: 70px;
        }
        .glowing-gift-icon-title { width: 50px; height: 50px; vertical-align: middle; margin-right: 15px; animation: pulse-glow 2s infinite; }
        .admin-access-btn { position: fixed; top: 20px; left: 20px; z-index: 1030; }
        .navbar { background-color: var(--secondary-color) !important; box-shadow: 0 2px 10px rgba(0,0,0,0.2); transition: background-color 0.3s ease; }
        #adminUpdateSection { color: var(--primary-color); font-weight: 500; font-size: 0.9rem; text-shadow: 0 0 5px var(--primary-color); }
        #adminUpdateSection a { color: #fff; text-decoration: underline; }
        .page-title-container { text-align: center; padding: 20px 0; }
        .page-title { font-size: 2.5rem; font-weight: 700; display: inline-block; vertical-align: middle; background: linear-gradient(135deg, var(--primary-color), #f8d33a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: text-glow 2s ease-in-out infinite alternate; }
        @keyframes pulse-glow { 0% { transform: scale(1); } 50% { transform: scale(1.1); filter: drop-shadow(0 0 15px var(--primary-color)); } 100% { transform: scale(1); } }
        @keyframes text-glow { from { text-shadow: 0 0 10px rgba(240, 185, 11, 0.4); } to { text-shadow: 0 0 20px rgba(240, 185, 11, 0.8); } }
        .card { background: var(--card-bg); border: 1px solid rgba(240, 185, 11, 0.2); border-radius: 15px; box-shadow: var(--shadow); transition: background 0.3s ease; }
        .btn { transition: all 0.2s ease-in-out; }
        .btn-primary { background: linear-gradient(135deg, var(--primary-color), #f8d33a); border: none; color: #000; font-weight: 600; border-radius: 10px; padding: 12px 30px; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(240, 185, 11, 0.4); }
        .btn-success { background: linear-gradient(135deg, #00d26a, #00a85d); border: none; border-radius: 10px; font-weight: 600; }
        .ad-placeholder { border: 2px dashed rgba(240, 185, 11, 0.5); border-radius: 10px; padding: 10px; margin: 15px 0; text-align: center; min-height: 90px; }
        .footer { background: rgba(30, 32, 38, 0.9); padding: 30px 0; margin-top: 40px; border-top: 1px solid rgba(240, 185, 11, 0.3); }
        .footer-title { color: var(--text-color); margin-bottom: 1rem; text-shadow: 0 0 8px rgba(240, 185, 11, 0.5); }
        .footer .copyright-text { color: var(--muted-text); text-shadow: 0 0 8px rgba(240, 185, 11, 0.5); }
        .footer .no-wrap { white-space: nowrap; }
        .social-icons { display: flex; justify-content: center; gap: 20px; }
        .social-icon { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; transition: all 0.3s ease; text-decoration: none; color: white; }
        .telegram { background: #0088cc; } .youtube { background: #ff0000; } .whatsapp { background: #25d366; } .social-icon:hover { transform: scale(1.1) rotate(5deg); }
        .modal { display: none; position: fixed; z-index: 1050; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.7); }
        .modal-content { background: var(--card-bg); }
        .hidden { display: none; }
        .points-badge { 
            background: linear-gradient(135deg, var(--primary-color), #f8d33a); color: #000; padding: 8px 15px; border-radius: 20px; font-weight: 600; 
            box-shadow: 0 2px 8px rgba(240, 185, 11, 0.5); text-shadow: 0 0 5px rgba(0,0,0,0.3); transition: all 0.3s ease;
        }
        .points-badge:hover { transform: scale(1.05); }
        .note-box { background: rgba(255, 165, 0, 0.1); border: 1px solid rgba(255, 165, 0, 0.3); border-radius: 10px; padding: 15px; margin-top: 15px; font-size: 0.9rem; }
        .nav-tabs .nav-link { color: var(--text-color); border: none; background: transparent; }
        .nav-tabs .nav-link.active { background: var(--primary-color); color: #000; font-weight: 600; }
        .code-card { background: linear-gradient(135deg, var(--card-bg), rgba(43, 49, 57, 0.8)); border: 1px solid rgba(240, 185, 11, 0.3); border-radius: 12px; padding: 20px; margin-bottom: 15px; transition: all 0.3s ease; }
        .code-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.2); border-color: var(--primary-color); }
        .adblocker-modal-container { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.95); z-index: 2000; justify-content: center; align-items: center; }
    </style>
    </head>
<body>

    <div class="admin-access-btn">
        <button class="btn btn-outline-danger btn-sm" onclick="showAdminLoginModal()"><i class="fas fa-shield-alt"></i></button>
    </div>

    <nav class="navbar navbar-dark fixed-top">
        <div class="container">
            <div id="adminUpdateSection" class="navbar-text hidden">
                <i class="fas fa-bullhorn me-2"></i>New App Launch! <a href="#">Check it out!</a>
            </div>
            <div class="d-flex align-items-center ms-auto">
                <span class="points-badge me-3"><i class="fas fa-coins me-1"></i>Points: <span id="userPoints">0</span></span>
                <button class="btn btn-outline-warning rounded-circle" id="theme-toggle-btn" onclick="toggleTheme()"><i class="fas fa-moon"></i></button>
            </div>
        </div>
    </nav>    

    <div class="container">
        <div class="page-title-container">
            <img src="https://i.ibb.co/DDZpJp6F/Emojipedia-Gift-Emoji-Domain-PNG-removebg-preview.png" alt="Gift" class="glowing-gift-icon-title">
            <h1 class="page-title">Binance Red Pocket</h1>
        </div>
        
        <div class="ad-placeholder d-none d-lg-flex align-items-center justify-content-center">
            <script> atOptions = { 'key' : 'df4c49f67ea3bfa9c714c872d04b9dd8', 'format' : 'iframe', 'height' : 90, 'width' : 728, 'params' : {} }; </script>
            <script src="//machinemerrimentresent.com/df4c49f67ea3bfa9c714c872d04b9dd8/invoke.js"></script>
        </div>
        <div class="ad-placeholder d-lg-none d-flex align-items-center justify-content-center">
            <script> atOptions = { 'key' : '4e25963e53858fd3dcffbac73994b661', 'format' : 'iframe', 'height' : 60, 'width' : 468, 'params' : {} }; </script>
            <script src="//machinemerrimentresent.com/4e25963e53858fd3dcffbac73994b661/invoke.js"></script>
        </div>

        <div class="row mt-3">
            <div class="col-lg-4">
                <div class="card mb-3"><div class="card-body text-center"><i class="fas fa-share-alt fa-2x text-primary mb-3"></i><h5>Publish Code</h5><button class="btn btn-primary w-100 py-3" onclick="handlePublishClick()"><i class="fas fa-plus-circle me-2"></i>Publish New Code</button></div></div>
                <div class="card mb-3"><div class="card-body text-center"><i class="fas fa-video fa-2x text-success mb-3"></i><h5>Earn Points</h5><button class="btn btn-success w-100 py-3" onclick="watchAdForPoints()"><i class="fas fa-play-circle me-2"></i>Watch Ad (+10 Points)</button></div></div>
                
                <div class="ad-placeholder">
                    <script type='text/javascript' src='//machinemerrimentresent.com/6e/c5/a5/6ec5a509ab8cb0a4605c50d1fa6603f7.js'></script>
                </div>
            </div>
            <div class="col-lg-8">
                <ul class="nav nav-tabs mb-3" id="codesTab" role="tablist">
                    <li class="nav-item" role="presentation"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#active" type="button" role="tab"><i class="fas fa-bolt me-1"></i>Active</button></li>
                    <li class="nav-item" role="presentation"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#expired" type="button" role="tab"><i class="fas fa-clock me-1"></i>Expired</button></li>
                </ul>
                <div class="tab-content" id="codesTabContent">
                    <div class="tab-pane fade show active" id="active" role="tabpanel"><div class="card"><div class="card-body" id="codesList"><div class="text-center py-5"><i class="fas fa-spinner fa-spin fa-3x text-warning"></i><p class="mt-3">Loading active codes...</p></div></div></div></div>
                    <div class="tab-pane fade" id="expired" role="tabpanel"><div class="card"><div class="card-body">
                        <div id="expiredCodesList"><div class="text-center py-4"><i class="fas fa-clock fa-3x text-muted mb-3"></i><p>No expired codes yet</p></div></div>
                        <div class="note-box mt-3"><i class="fas fa-info-circle text-warning me-2"></i><strong>Note:</strong> Partially claimed codes disappear automatically after expiration.</div>
                    </div></div></div>
                </div>
                
                <div class="ad-placeholder mt-4">
                    <script async="async" data-cfasync="false" src="//machinemerrimentresent.com/78899f93797acc057c257e6c4e098671/invoke.js"></script>
                    <div id="container-78899f93797acc057c257e6c4e098671"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="adminLoginModal" class="modal">
        <div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fas fa-user-shield me-2"></i>Admin Access</h5><button type="button" class="btn-close btn-close-white" onclick="hideAdminLoginModal()"></button></div><div class="modal-body"><form onsubmit="event.preventDefault(); handleAdminLogin();"><div class="mb-3"><label class="form-label">Email</label><input type="email" class="form-control" id="adminEmail" required></div><div class="mb-3"><label class="form-label">Password</label><input type="password" class="form-control" id="adminPassword" required></div></form></div><div class="modal-footer"><button type="button" class="btn btn-secondary" onclick="hideAdminLoginModal()">Cancel</button><button type="button" class="btn btn-primary" onclick="handleAdminLogin()">Login</button></div></div></div>
    </div>
    
    <div id="publishModal" class="modal">
        <div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fas fa-share-alt me-2"></i>Publish New Code</h5><button type="button" class="btn-close btn-close-white" onclick="hidePublishModal()"></button></div><div class="modal-body"><form id="publishForm" onsubmit="event.preventDefault()">
            <div class="mb-3"><label class="form-label">Red Pocket Code</label><input type="text" class="form-control" id="codeInput" placeholder="e.g. BPRSQM4DAU" required></div>
            <div class="mb-3"><label class="form-label">How many can claim?</label><input type="number" class="form-control" id="claimLimit" placeholder="e.g. 5, 10, 20, 50" min="1" required></div>
            <div class="mb-3"><label class="form-label">Coin</label><input type="text" class="form-control" id="coinType" placeholder="e.g. TRX, PEPE, USDC, BONK" required></div>
            <div class="mb-3"><label class="form-label">Expiry Date</label><input type="date" class="form-control" id="expiryDate" required></div>
        </form></div><div class="modal-footer"><button type="button" class="btn btn-secondary" onclick="hidePublishModal()">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="handlePublish()"><i class="fas fa-upload me-2"></i>Publish Code</button></div></div></div>
    </div>

    <div id="adblocker-modal" class="adblocker-modal-container">
        <div class="modal-content text-center p-4 m-3">
            <h3 class="text-danger"><i class="fas fa-exclamation-triangle fa-2x mb-3"></i><br>Ad Blocker Detected!</h3>
            <p class="mt-3">It looks like you are using an Ad Blocker. To use this website and to support us, please disable your Ad Blocker.</p>
            <button class="btn btn-primary mt-3" onclick="location.reload()"><i class="fas fa-sync-alt me-2"></i>I've Disabled Ad Blocker, Refresh</button>
        </div>
    </div>

    <footer class="footer text-center">
        <div class="container">
            <h6 class="footer-title">Join Our Community</h6>
            <div class="social-icons mb-3">
                <a href="https://t.me/Earningradar" class="social-icon telegram" target="_blank" aria-label="Telegram"><i class="fab fa-telegram-plane"></i></a>
                <a href="https://youtube.com/@earningradar-96?si=E3UBU5Gvgnpepd2Z" class="social-icon youtube" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                <a href="https://chat.whatsapp.com/LXiGOz74FQT9qKJVdziJ6L?mode=wwc" class="social-icon whatsapp" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
            </div>
            <p class="copyright-text mb-0">2025Â© All Copyright Reserved | <span class="no-wrap">Made by YO_2 Techs</span></p>
        </div>
        <div class="disclaimer-box">
            <div class="container">
                <p class="mb-2"><strong>Disclaimer:</strong> This website is not affiliated, associated, authorized, endorsed by, or in any way officially connected with Binance, or any of its subsidiaries or its affiliates. The official Binance website can be found at binance.com.</p>
                <p class="mb-0">The name "Binance" as well as related names, marks, emblems and images are registered trademarks of their respective owners. All codes on this platform are user-submitted; therefore, **their validity or claim status is not guaranteed, as they may have already expired or been fully claimed.**</p>
            </div>
        </div>
    </footer>
    <!-- Library Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<!-- Main Application Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    try {
        // Anti-Adblocker variable. ads.js file is no longer needed.
        var canRunAds = true;

        // --- FIREBASE CONFIG & INITIALIZATION ---
        const firebaseConfig = {
            apiKey: "AIzaSyCsw-siVW0LD0PoOPrOHuO4GVnQbZu0JUE",
            authDomain: "binance-red-pocket-codes-5a5fe.firebaseapp.com",
            projectId: "binance-red-pocket-codes-5a5fe",
            storageBucket: "binance-red-pocket-codes-5a5fe.firebasestorage.app",
            messagingSenderId: "686927723105",
            appId: "1:686927723105:web:04ae7cc7b79cb807d1c820",
            measurementId: "G-CP27WC80GQ"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // --- ANTI AD-BLOCKER CHECK ---
        setTimeout(function() {
            if (typeof canRunAds === 'undefined') {
                document.getElementById('adblocker-modal').style.display = 'flex';
            }
        }, 2000);

        // --- DOM Elements ---
        const adminUpdateSection = document.getElementById('adminUpdateSection');
        const themeToggleBtn = document.getElementById('theme-toggle-btn');
        const adminLoginModal = document.getElementById('adminLoginModal');
        const publishModal = document.getElementById('publishModal');
        const codesList = document.getElementById('codesList');
        const expiredCodesList = document.getElementById('expiredCodesList');
        const userPoints = document.getElementById('userPoints');

        // --- THEME TOGGLE ---
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme === 'light') {
            document.documentElement.setAttribute('data-theme', 'light');
            themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>';
        }
        window.toggleTheme = function() {
            const current = document.documentElement.getAttribute('data-theme');
            if (current === 'light') {
                document.documentElement.removeAttribute('data-theme');
                localStorage.removeItem('theme');
                themeToggleBtn.innerHTML = '<i class="fas fa-moon"></i>';
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
                themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>';
            }
        }
        
        // --- MODAL CONTROLS ---
        window.showAdminLoginModal = function() { adminLoginModal.style.display = 'block'; }
        window.hideAdminLoginModal = function() { adminLoginModal.style.display = 'none'; }
        window.showPublishModal = function() { publishModal.style.display = 'block'; }
        window.hidePublishModal = function() { publishModal.style.display = 'none'; }
        window.onclick = function(event) {
            if (event.target == adminLoginModal) hideAdminLoginModal();
            if (event.target == publishModal) hidePublishModal();
        }

        // --- POINTS SYSTEM ---
        function loadPoints() {
            let points = localStorage.getItem('userPoints') || 0;
            userPoints.innerText = points;
        }
        loadPoints(); // Load points on start
        
        // --- ADVERTISEMENT LOGIC ---
        const popunderAdUrl = 'https://machinemerrimentresent.com/x4/a3/6c/x4a36cd2ce0d463d1c81e35d1f2e1a49.js'; 
        function runAdAndProceed(originalFunction) {
            window.open(popunderAdUrl, '_blank');
            if (originalFunction && typeof originalFunction === 'function') {
                originalFunction();
            }
        }

        window.handlePublishClick = function() { runAdAndProceed(showPublishModal); }
        window.watchAdForPoints = function() {
            runAdAndProceed(function() {
                let currentPoints = parseInt(userPoints.innerText);
                currentPoints += 10;
                userPoints.innerText = currentPoints;
                localStorage.setItem('userPoints', currentPoints);
                alert('Shukriya! Aapko 10 points mil gaye hain.');
            });
        }
        
        window.handleAdminLogin = function() {
            const email = document.getElementById('adminEmail').value;
            const pass = document.getElementById('adminPassword').value;
            if (email === "admin@yourdomain.com" && pass === "securepassword123") {
                adminUpdateSection.classList.remove('hidden');
                alert('Login successful! Admin section is now visible.');
                hideAdminLoginModal();
            } else {
                alert('Incorrect email or password.');
            }
        }

        // --- MAIN PUBLISH FUNCTION ---
        window.handlePublish = function() {
            const codeInput = document.getElementById('codeInput').value.trim();
            const claimLimit = document.getElementById('claimLimit').value;
            const coinType = document.getElementById('coinType').value.trim().toUpperCase();
            const expiryDate = document.getElementById('expiryDate').value;

            if (!codeInput || !claimLimit || !coinType || !expiryDate) {
                alert('Please saari details bharein.');
                return;
            }

            const newCode = {
                code: codeInput,
                limit: parseInt(claimLimit),
                coin: coinType,
                expiry: expiryDate,
                publishedAt: new Date().toISOString()
            };

            database.ref('codes').push(newCode)
                .then(() => {
                    alert('Aapka code successfully publish ho gaya hai!');
                    hidePublishModal();
                    document.getElementById('publishForm').reset();
                })
                .catch((error) => {
                    alert('Firebase Error: ' + error.message);
                });
        }

        // --- FIREBASE DATA LOADING ---
        function isExpired(expiryDate) {
            const now = new Date();
            const expiry = new Date(expiryDate);
            expiry.setHours(23, 59, 59, 999); 
            return now > expiry;
        }

        database.ref('codes').on('value', (snapshot) => {
            let activeHtml = '';
            let expiredHtml = '';
            const data = snapshot.val();
            if (data) {
                const sortedKeys = Object.keys(data).sort((a, b) => new Date(data[b].publishedAt) - new Date(data[a].publishedAt));
                sortedKeys.forEach(key => {
                    const code = data[key];
                    const codeCardHtml = `
                        <div class="code-card">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <h4 class="mb-0 text-warning">${code.code}</h4>
                                <span class="badge bg-primary">${code.coin}</span>
                            </div>
                            <p class="mb-1 text-muted">Claim Limit: ${code.limit} Users</p>
                            <p class="mb-0 text-muted">Expires On: ${new Date(code.expiry).toLocaleDateString()}</p>
                        </div>
                    `;
                    if (isExpired(code.expiry)) {
                        expiredHtml += codeCardHtml;
                    } else {
                        activeHtml += codeCardHtml;
                    }
                });
            }
            codesList.innerHTML = activeHtml || '<div class="text-center py-5"><i class="fas fa-gift fa-3x text-muted mb-3"></i><p>Abhi koi active code nahi hai. Aap pehla code publish karein!</p></div>';
            expiredCodesList.innerHTML = expiredHtml || '<div class="text-center py-4"><i class="fas fa-clock fa-3x text-muted mb-3"></i><p>Yahan koi expired code nahi hai.</p></div>';
        }, function (errorObject) {
            console.log("Firebase read failed: " + errorObject.code);
            codesList.innerHTML = '<div class="text-center py-5 text-danger"><i class="fas fa-exclamation-triangle fa-3x mb-3"></i><p>Error loading codes. Check Firebase rules.</p></div>';
        });

    } catch (error) {
        alert('FATAL SCRIPT ERROR: ' + error.message);
    }
});
</script>
</body>
</html>